name: 'Upload Release'

on: [push, workflow_dispatch]

permissions:
  # actions: write
  # checks: write
  contents: write
  # deployments: write
  # issues: write
  # packages: write
  # pull-requests: write
  # repository-projects: write
  # security-events: write
  # statuses: write
  


jobs:
  job:
    runs-on: ubuntu-latest
    steps:
    
    - name: Checkout
      uses: actions/checkout@v3.3.0
          
    - name: GitHub Script
      uses: actions/github-script@v6.4.0
      id: result
      with:
        github-token: ${{secrets.GITHUB_TOKEN}}
        script: |
           var ret =  github.rest.repos.createRelease({
                  owner: context.repo.owner,
                  repo: context.repo.repo,
                  tag_name: "v1.0.0",
                  name: "Teste Action",
                  body: "# Lindo n√©?"
                  });
            
            console.log(ret);
    - name: Result
      run: ${{ steps.result.outputs.result }} | jq
