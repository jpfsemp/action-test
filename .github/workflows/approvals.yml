name: Test Approval

on: 
  workflow_dispatch:
    inputs:
      environment:
        description: 'Environment'     
        required: true
        default: 'dev'
  
jobs:
  print:
    runs-on: ubuntu-latest
    steps:
    - run: echo ${{ github.event.inputs.environment }}
    - run: echo ${{ vars.WhoAmI }}
    
  deploy-dev:
    if: ${{ github.event.inputs.environment }} == 'dev' 
    runs-on: ubuntu-latest
    needs: print
    environment: 'dev'
    steps:
    - run: echo ${{ vars.WhoAmI }}
    
  deploy-qa:
    if: ${{ github.event.inputs.environment }} == 'qa' 
    runs-on: ubuntu-latest
    needs: print
    environment: 'qa'
    steps:
    - run: echo ${{ vars.WhoAmI }}
    
  deploy-prd:
    if: ${{ github.event.inputs.environment }} == 'prd' 
    runs-on: ubuntu-latest
    needs: print
    environment: 'prd'
    steps:
    - run: echo ${{ vars.WhoAmI }}
